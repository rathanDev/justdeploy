import{a as E}from"./chunk-UBNCZN52.js";import"./chunk-FDV63FFS.js";import{a as w}from"./chunk-MVDYPYLD.js";import{a as M,b as S,c as N,d as F,e as V,f as j,g as k,h as P,i as T}from"./chunk-FROD3HT2.js";import"./chunk-4SG7IXVG.js";import{A as d,E as L,F as a,H as n,I as o,J as l,K as v,L as b,M as u,N as m,U as x,V as y,aa as I,ba as h,n as c,q as C,r as p,u as g,v as f,z as s}from"./chunk-MB5QRXZ6.js";function q(e,_){if(e&1){let t=v();n(0,"div",3)(1,"form",4),b("ngSubmit",function(){g(t);let r=u();return f(r.onLoginSubmit())}),n(2,"div",5)(3,"label",6),m(4,"Email: "),o(),l(5,"input",7),o(),n(6,"div",5)(7,"label",8),m(8,"Password: "),o(),l(9,"input",9),o(),n(10,"button",10),m(11," Login "),o()()()}if(e&2){let t=u();s(),a("formGroup",t.loginForm)}}function A(e,_){e&1&&(n(0,"div")(1,"button",11),m(2,"CreateAccount"),o()())}function O(e,_){if(e&1){let t=v();n(0,"div")(1,"button",12),m(2,"Profile"),o(),l(3,"br"),n(4,"button",13),b("click",function(){g(t);let r=u();return f(r.logout())}),m(5,"Logout"),o(),l(6,"br")(7,"br"),o()}}var R=(()=>{class e{constructor(t,i,r){this.fb=t,this.loginService=i,this.sharedService=r,this.loggedIn=!1,this.loginForm=this.fb.group({email:["",[S.required]],plainPassword:["",[S.required]]})}ngOnInit(){this.loginSubscription=this.sharedService.userLoggedIn$.subscribe(t=>this.loggedIn=t)}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe()}onLoginSubmit(){let t=this.loginForm.value;console.log("cred",t),this.loginService.login(t)}logout(){this.loginService.logout()}static{this.\u0275fac=function(i){return new(i||e)(d(P),d(E),d(w))}}static{this.\u0275cmp=C({type:e,selectors:[["app-login"]],decls:9,vars:3,consts:[["class","login-container",4,"ngIf"],[4,"ngIf"],["type","button","routerLink","/"],[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control"],["for","plainPassword"],["id","plainPassword","type","plainPassword","formControlName","plainPassword",1,"form-control"],["type","submit",1,"btn","btn-primary"],["type","button","routerLink","/register"],["routerLink","/profile"],[3,"click"]],template:function(i,r){i&1&&(n(0,"p"),m(1,"login"),o(),L(2,q,12,1,"div",0)(3,A,3,0,"div",1)(4,O,8,0,"div",1),l(5,"br"),n(6,"button",2),m(7,"Home"),o(),l(8,"br")),i&2&&(s(2),a("ngIf",!r.loggedIn),s(),a("ngIf",!r.loggedIn),s(),a("ngIf",r.loggedIn))},dependencies:[x,I,V,M,N,F,j,k]})}}return e})();var B=[{path:"",component:R}],G=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=c({imports:[h.forChild(B),h]})}}return e})();var ne=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=c({imports:[y,G,T]})}}return e})();export{ne as LoginModule};
