import{a,b as l,d}from"./chunk-FDV63FFS.js";import{a as m}from"./chunk-MVDYPYLD.js";import{a as g,b as S}from"./chunk-4SG7IXVG.js";import{W as h,m as n,p as s}from"./chunk-MB5QRXZ6.js";var k=(()=>{class r{constructor(e,t,c,i,o){this.http=e,this.redirector=t,this.dataService=c,this.hashService=i,this.sharedService=o}login(e){this.mockLogin(e)}mockLogin(e){let t=this.hashService.hash(e.plainPassword),i=this.dataService.getAccounts().filter(o=>o.email===e.email&&o.hashedPassword===t);if(console.log("acc",i),i.length==0){console.error("No user found");return}localStorage.setItem(a,t),this.sharedService.setUserLoggedIn(!0),this.sharedService.setLoggedInUser(i[0])}doLogin(e){let t={email:"john@mail.com",plainPassword:"changeme"};this.http.post(l,t).subscribe(c=>{let o=c.access_token;localStorage.setItem(a,o)})}logout(){console.log("logout"),localStorage.removeItem(a),this.sharedService.setUserLoggedIn(!1),this.redirector.toHome()}static{this.\u0275fac=function(t){return new(t||r)(s(h),s(d),s(S),s(g),s(m))}}static{this.\u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{k as a};
